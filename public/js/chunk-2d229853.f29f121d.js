(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229853"],{de95:function(t,i,e){"use strict";e.r(i),e.d(i,"LoginForm",(function(){return m}));var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",[o("div",{staticClass:"login-page"},[o("div",{staticClass:"login-box"},[o("div",{staticClass:"box"}),o("form",{attrs:{method:"post",name:"login",id:"login"}},[t._m(0),t._m(1),o("div",{staticClass:"l-login"},[o("div",{staticClass:"logo"}),o("h1",[t._v("忘記密碼")]),o("div",{staticClass:"input-box"},[o("i",{staticClass:"fa fa-user"}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.account,expression:"loginForm.account"}],staticClass:"input-sty",attrs:{type:"text",name:"account",id:"account",placeholder:" 請輸入您的帳號E-mail",autocomplete:"off"},domProps:{value:t.loginForm.account},on:{input:function(i){i.target.composing||t.$set(t.loginForm,"account",i.target.value)}}}),o("label",{directives:[{name:"show",rawName:"v-show",value:""!==t.errorMsg.form,expression:"errorMsg.form !== ''"}],staticClass:"error"},[t._v("*"+t._s(t.errorMsg.form))])]),o("div",{staticClass:"input-box input-number h-flexCenter-ai"},[o("img",{staticClass:"val-img",attrs:{src:t.verificationCode.imgSrc}}),o("img",{staticClass:"refresh",attrs:{id:"refresh",src:e("28c0"),disabled:t.doubleClick},on:{click:function(i){return i.preventDefault(),t.refreshVerificationCode()}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.verification,expression:"loginForm.verification"}],staticClass:"input-code code",attrs:{type:"text",placeholder:"輸入驗證碼",maxlength:4,name:"code_num",id:"code_num"},domProps:{value:t.loginForm.verification},on:{input:function(i){i.target.composing||t.$set(t.loginForm,"verification",i.target.value)}}})]),t._m(2),o("div",{staticClass:"l-login-btn-box"},[o("a",{staticClass:"btn login-submit-btn",attrs:{disabled:t.doubleClick},on:{click:function(i){return i.preventDefault(),t.validateAndSubmit()}}},[t._v("送出")])]),o("div",{staticClass:"l-login-footer"},[t._v(" ©2021 芝蔴街e學園 ")]),t._m(3)])])])]),o("APLightbox",{attrs:{message:t.lightbox.errorMsg}})],1)},r=[function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"login_dec02"},[o("img",{attrs:{src:e("2b89")}})])},function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"login_dec03"},[o("img",{attrs:{src:e("57d9")}})])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"l-login-error-mesg"},[e("i",{staticClass:"fa fa-exclamation-circle"}),t._v("送出後將由系統發送密碼重置信至此帳號信箱")])},function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"dec login_dec01"},[o("img",{attrs:{src:e("8472")}})])}],n=e("9ab4"),s=e("1b40"),a=e("87d7"),c=e("f2fa"),l=e("43e4"),u=e("93f3"),d=e("0d59"),f=e("3617"),m=function(){function t(){this.account="",this.verification=""}return Object(n["b"])([Object(a["a"])(),Object(c["a"])()],t.prototype,"account",void 0),Object(n["b"])([Object(a["a"])(),Object(c["a"])()],t.prototype,"verification",void 0),t}(),h=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.doubleClick=!1,i.loginForm=new m,i.verificationCode={uid:"",imgSrc:""},i.errorMsg={form:"",response:""},i.lightbox={errorMsg:""},i}return Object(n["c"])(i,t),i.prototype.created=function(){this.refreshVerificationCode()},i.prototype.refreshVerificationCode=function(){return Object(n["a"])(this,void 0,void 0,(function(){var t,i,e,o;return Object(n["d"])(this,(function(r){switch(r.label){case 0:return this.doubleClick?[3,2]:(this.doubleClick=!0,t=Math.floor(Date.now()/1e3).toString(),i=Math.floor(1e3*Math.random()).toString(),this.verificationCode.uid=t+i,e={uniqueID:this.verificationCode.uid},o=this.verificationCode,[4,d["a"].refreshCodeImg(e)]);case 1:o.imgSrc=r.sent(),this.doubleClick=!1,r.label=2;case 2:return[2]}}))}))},i.prototype.validateAndSubmit=function(){return Object(n["a"])(this,void 0,void 0,(function(){var t=this;return Object(n["d"])(this,(function(i){return Object(l["a"])(this.loginForm,{skipMissingProperties:!0}).then((function(i){return Object(n["a"])(t,void 0,void 0,(function(){var t,e,o,r,s,a=this;return Object(n["d"])(this,(function(n){switch(n.label){case 0:return 0!==i.length?(t={account:"帳號",verification:"驗證碼"},this.errorMsg.form="請填入",i.forEach((function(i,e){a.errorMsg.form+=0===e?t[i.property]:" / "+t[i.property]})),[2]):(this.errorMsg.form="",this.doubleClick?[3,3]:(this.doubleClick=!0,e={code:this.loginForm.verification,uniqueID:this.verificationCode.uid},[4,d["a"].verificationCodeCheck(e)]));case 1:return o=n.sent(),o!==u["a"].Success?(this.errorMsg.form=u["b"][o],this.doubleClick=!1,this.refreshVerificationCode(),[2]):(r={acc:this.loginForm.account},[4,d["a"].teForgetPwd(r)]);case 2:s=n.sent(),s===u["a"].Success?(this.lightbox.errorMsg="已發送重設密碼信件，請前往電子信箱查看",this.$emit("openAPLightbox",!0)):(this.errorMsg.form=u["b"][s],this.refreshVerificationCode()),this.doubleClick=!1,n.label=3;case 3:return[2]}}))}))})),[2]}))}))},i=Object(n["b"])([Object(s["a"])({components:{APLightbox:f["c"]}})],i),i}(s["d"]),v=h,g=v,b=(e("d380"),e("2877")),p=Object(b["a"])(g,o,r,!1,null,null,null);i["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d229853.f29f121d.js.map